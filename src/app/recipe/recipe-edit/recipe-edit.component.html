<div class="card" *ngIf="loginUser == null">
  <p class="content">Rezept bearbeiten nur als eingeloggter User möglich!</p>
</div>
<div class="card" *ngIf="(loginUser.username == recipe.username.username)">
  <div class="header">
    <h1 *ngIf="recipe" class="title">{{recipe.name}} bearbeiten</h1>
  </div>
  <div class="content">
    <form (ngSubmit)="save()" *ngIf="recipe" #form="ngForm">
      <div class="form-group">
        <label>Rezept Nr. {{recipe.id}}</label>
      </div>

      <div class="form-group">
        <label>Name:</label>
        <recipe-validation-errors [errors]="form?.controls['name']?.errors"></recipe-validation-errors>
        <input [(ngModel)]="recipe.name" name="name" class="form-control standard"
               required minlength="3">
      </div>

      <div class="form-group">
        <label>Kategorie:</label>
        <recipe-validation-errors [errors]="form?.controls['category']?.errors"></recipe-validation-errors>
        <input [(ngModel)]="recipe.category" name="category" class="form-control standard"
                required minlength="3"
                [category]="['Süßes', 'Hauptgerichte', 'Saucen', 'Getränke', 'Andere']">
      </div>

      <div class="form-group">
        <label>Zutaten:</label>
        <recipe-validation-errors [errors]="form?.controls['ingredient']?.errors"></recipe-validation-errors>
        <textarea [(ngModel)]="recipe.ingredient" name="ingredient" class="form-control standard edit"
                  required minlength="3">
        </textarea>
      </div>

      <div class="form-group">
        <label>Zubereitung:</label>
        <recipe-validation-errors [errors]="form?.controls['ingredient']?.errors"></recipe-validation-errors>
        <textarea id="edit" [(ngModel)]="recipe.preparation" name="preparation" class="form-control standard edit"
                  required minlength="3">
        </textarea>
      </div>

      <div class="form-group">
        <label>Hinweise:</label>
        <recipe-validation-errors [errors]="form?.controls['hints']?.errors"></recipe-validation-errors>
        <textarea [(ngModel)]="recipe.hint" name="hint" class="form-control standard edit"
               required minlength="3">
        </textarea>
      </div>

      <div class="form-group">
        <button class="btn btn-default" (click)="save()">Speichern</button>
      </div>

    </form>
  </div>
</div>




